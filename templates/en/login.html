{{template "header.html"}}
<body>
    <nav>
        <a href="/">home</a>
        <a href="/sign">signup</a>
    </nav>
    <h1>{{.Title}}</h1>
      <div id="input">
         <h2>login page</h2>
         <input v-model="user.email" type="text" placeholder="email" pattern=".{6,40}" autofocus><br>
         <span v-if="nil" style="color: red">email is not correct</span><br>
         <input v-model="user.password" type="password" placeholder=password ><br><br>
         <button v-on:click="login" >login</button>
     </div>
    <script>

// post new tweet
 var login_form = new Vue({
     el: '#input',
     data:{
         nil : false,
         user: {
            email: '',
            password: '',
         },
     },

     methods: {
         login: function() { // undefined
             if (this.user.email.length <= 12) {
                  this.nil = true
             } else {
                 // post tweeti
                 axios.post('http://localhost:8080/login', this.user)
                 .then(function (response) {
                     if (response.data == "ok") {
                       console.log(response.data)
                        location.replace("http://localhost:8080")
                     } else {
                       //console.log(response.data)
                     }
                 })
                 .catch(function (error) {
                      console.log("Have an: "+ error)
                 });
             }
             } 
         },
})
</script>
<script src="a/app.js"></script>
</body>
{{template "style.html"}}
<style>
#input {
    position:center;
    height: 10em;
    position: relative; 
    margin: 0;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-right: -50%;
    transform: translate(-50%, -50%)
}

//#submit {    width: relative;}
</style>
</html>
